import{a as De}from"./chunk-A6U5IQLN.js";import{$ as Ee,A as o,B as c,C as B,D as Ce,E as k,F as z,G as R,I as j,J as x,K as I,L as fe,M as ye,N as D,O as ge,S as be,T as _e,V as N,X as $,Y as G,_ as pe,a as H,aa as b,b as P,ba as U,c as he,ca as W,d as h,da as Q,e as v,ea as J,f as A,fa as X,g as T,ga as xe,ha as Se,ia as Ie,j as l,ja as Z,k as g,ka as K,l as F,la as Y,m as q,ma as ee,n as C,na as Ae,o as f,oa as we,p as ve,pa as Te,q as _,qa as Fe,r as E,s as u,sa as M,t,ta as te,u as i,ua as Ne,v as d,va as Me,w,x as y,y as p,z as L}from"./chunk-GOVYI5DK.js";var V=class r{constructor(n){this.http=n}baseAPIUrl="/api/ceremonies";listByInstitutionAndCategory(n,e){let a=new be().set("ceremonyCategory",e);return this.http.get(`${this.baseAPIUrl}/institution/${n}`,{params:a})}list(){return this.http.get(`${this.baseAPIUrl}`)}get(n){return this.http.get(`${this.baseAPIUrl}/${n}`)}create(n){return this.http.post(this.baseAPIUrl,n)}update(n,e){return this.http.put(`${this.baseAPIUrl}/${n}`,e)}delete(n){return this.http.delete(`${this.baseAPIUrl}/${n}`)}static \u0275fac=function(e){return new(e||r)(he(_e))};static \u0275prov=H({token:r,factory:r.\u0275fac,providedIn:"root"})};var ie=class r{saveUser(n){localStorage.setItem("user",JSON.stringify(n))}getUser(){let n=localStorage.getItem("user");return n?JSON.parse(n):null}deleteUser(){localStorage.removeItem("user")}static \u0275fac=function(e){return new(e||r)};static \u0275prov=H({token:r,factory:r.\u0275fac,providedIn:"root"})};var Pe=(r,n)=>n.id;function qe(r,n){if(r&1&&(t(0,"tr",5)(1,"td"),o(2),i(),t(3,"td"),o(4),i(),t(5,"td"),o(6),x(7,"date"),i(),t(8,"td"),o(9),i()()),r&2){let e=n.$implicit;u("routerLink",j("../detalhes/",e.id)),l(2),c(e.categoryName),l(2),c(e.institutionName),l(2),c(I(7,6,e.date)),l(3),c(e.status)}}function Be(r,n){r&1&&(t(0,"tr")(1,"td",6),o(2,"N\xE3o h\xE1 cerim\xF4nias."),i()())}function je(r,n){if(r&1&&(t(0,"div",0)(1,"h1"),o(2),i(),d(3,"hr"),t(4,"button",1),o(5," Nova "),i(),t(6,"table",2)(7,"thead",3)(8,"tr")(9,"th",4),o(10,"Categoria"),i(),t(11,"th",4),o(12,"IES"),i(),t(13,"th",4),o(14,"Data"),i(),t(15,"th",4),o(16,"Status"),i()()(),t(17,"tbody"),_(18,qe,10,8,"tr",5,Pe,!1,Be,3,0,"tr"),i()()()),r&2){let e=p();l(2),c(e.title),l(16),E(e.ceremonies)}}function $e(r,n){r&1&&d(0,"app-progress-bar")}var ne=class r{constructor(n,e,a,s){this.activateRoute=n;this.router=e;this.ceremonyService=a;this.storageService=s}title="Cerim\xF4nias";ceremonies=[];isLoading=!1;ngOnInit(){this.isLoading=!0,this.loadCeremonies()}loadCeremonies(){this.ceremonyService.list().subscribe({next:n=>{this.ceremonies=n,this.isLoading=!1},error:n=>{console.error("Erro ao carregar cerim\xF4nias:",n),this.isLoading=!1}})}static \u0275fac=function(e){return new(e||r)(g(N),g($),g(V),g(ie))};static \u0275cmp=F({type:r,selectors:[["ceremony-list"]],standalone:!1,decls:2,vars:1,consts:[[1,"container"],["type","button","data-bs-toggle","modal","data-bs-target","#newStudent",1,"btn","btn-primary","mb-1"],[1,"table","table-hover"],[1,"table-dark"],["scope","col"],[1,"tr-link",3,"routerLink"],["colspan","4"]],template:function(e,a){e&1&&C(0,je,21,2,"div",0)(1,$e,1,0,"app-progress-bar"),e&2&&f(a.isLoading?1:0)},dependencies:[M,G,D],encapsulation:2})};var oe=(r,n)=>n.id;function We(r,n){if(r&1){let e=w();t(0,"div",35)(1,"div",41)(2,"div",31)(3,"h5",42),o(4),i()(),t(5,"div",43)(6,"div",44)(7,"div",31)(8,"div",45)(9,"button",46),y("click",function(){let s=h(e).$implicit,m=p(2);return v(m.catchAdhesionCourse(s))}),A(),t(10,"svg",47),d(11,"path",48)(12,"path",49),i()(),T(),t(13,"button",50),y("click",function(){let s=h(e).$implicit,m=p(2);return v(m.catchChangebleCourse(s))}),A(),t(14,"svg",51),d(15,"path",52)(16,"path",53),i()(),T(),t(17,"button",54),y("click",function(){let s=h(e).$implicit,m=p(2);return v(m.catchChangebleCourse(s))}),A(),t(18,"svg",55),d(19,"path",56),i()()()()()()()()}if(r&2){let e=n.$implicit;l(4),c(e.name)}}function Qe(r,n){if(r&1&&(t(0,"option",14),o(1),i()),r&2){let e=n.$implicit;u("value",e.id),l(),c(e.name)}}function Je(r,n){if(r&1&&(t(0,"tr",40)(1,"td"),o(2),i(),t(3,"td"),o(4),i(),t(5,"td"),o(6),i(),t(7,"td"),o(8),i(),t(9,"td"),o(10),i(),t(11,"td"),o(12),i()()),r&2){let e=n.$implicit;u("routerLink",j("./../../adesao/",e.id)),l(2),c(e.course.name),l(2),c(e.studentFullName),l(2),c(e.studentEmail),l(2),c(e.studentPhoneNumber),l(2),c(e.status),l(2),c(e.notice)}}function Xe(r,n){r&1&&(t(0,"tr")(1,"td",57),o(2,"N\xE3o h\xE1 ades\xF5es."),i()())}function Ze(r,n){if(r&1){let e=w();t(0,"div",1)(1,"h1",31),o(2),i(),t(3,"h2",31),o(4),x(5,"date"),i(),d(6,"hr"),t(7,"div",32)(8,"h3"),o(9,"Cursos"),i(),d(10,"hr"),t(11,"button",33),o(12," Novo "),i(),t(13,"div",34),_(14,We,20,1,"div",35,oe),i()(),t(16,"div",36)(17,"h3"),o(18,"Ades\xF5es de Alunos"),i(),d(19,"hr"),t(20,"select",12),R("ngModelChange",function(s){h(e);let m=p();return z(m.selectedAdhesionCourseId,s)||(m.selectedAdhesionCourseId=s),v(s)}),y("change",function(){h(e);let s=p();return v(s.filterAdhesions(s.selectedAdhesionCourseId))}),t(21,"option",13),o(22,"Selecione um curso para filtrar"),i(),_(23,Qe,2,2,"option",14,oe),i(),t(25,"table",37)(26,"thead",38)(27,"tr")(28,"th",39),o(29,"Curso"),i(),t(30,"th",39),o(31,"Nome"),i(),t(32,"th",39),o(33,"Email"),i(),t(34,"th",39),o(35,"Tel"),i(),t(36,"th",39),o(37,"Status"),i(),t(38,"th",39),o(39,"Aviso"),i()()(),t(40,"tbody"),_(41,Je,13,8,"tr",40,oe,!1,Xe,3,0,"tr"),i()()()()}if(r&2){let e=p();l(2),Ce("",e.ceremony==null?null:e.ceremony.categoryName," ",e.ceremony==null?null:e.ceremony.institutionName),l(2),B("",I(5,7,e.ceremony==null?null:e.ceremony.date)," "),l(10),E(e.ceremony==null?null:e.ceremony.courses),l(6),k("ngModel",e.selectedAdhesionCourseId),l(),u("value","")("selected",!e.selectedAdhesionCourseId),l(2),E(e.getAdhesionCourses()),l(18),E(e.filteredAdhesions)}}function Ke(r,n){r&1&&d(0,"app-progress-bar")}function Ye(r,n){if(r&1&&(t(0,"option",14),o(1),i()),r&2){let e=n.$implicit;u("value",e.id),l(),c(e.name)}}function et(r,n){r&1&&(t(0,"small"),o(1,"O nome completo \xE9 obrigat\xF3rio."),i())}function tt(r,n){r&1&&(t(0,"small"),o(1,"O nome completo deve ter pelo menos 3 caracteres."),i())}function it(r,n){if(r&1&&(t(0,"div",26),C(1,et,2,0,"small"),C(2,tt,2,0,"small"),i()),r&2){let e=p();l(),f(e.adhesionForm.controls.fullName.errors&&e.adhesionForm.controls.fullName.errors.required?1:-1),l(),f(e.adhesionForm.controls.fullName.errors&&e.adhesionForm.controls.fullName.errors.minlength?2:-1)}}function nt(r,n){r&1&&(t(0,"small"),o(1,"O telefone \xE9 obrigat\xF3rio."),i())}function ot(r,n){if(r&1&&(t(0,"div",26),C(1,nt,2,0,"small"),i()),r&2){let e=p();l(),f(e.adhesionForm.controls.phone.errors&&e.adhesionForm.controls.phone.errors.required?1:-1)}}function rt(r,n){r&1&&(t(0,"small"),o(1,"O email \xE9 obrigat\xF3rio."),i())}function at(r,n){r&1&&(t(0,"small"),o(1,"O email deve ser v\xE1lido."),i())}function lt(r,n){if(r&1&&(t(0,"div",26),C(1,rt,2,0,"small"),C(2,at,2,0,"small"),i()),r&2){let e=p();l(),f(e.adhesionForm.controls.email.errors&&e.adhesionForm.controls.email.errors.required?1:-1),l(),f(e.adhesionForm.controls.email.errors&&e.adhesionForm.controls.email.errors.email?2:-1)}}var re=class r{constructor(n,e,a,s){this.route=n;this.ceremonyService=e;this.adhesionService=a;this.courseService=s}ceremonyId=null;ceremony=null;adhesions=[];filteredAdhesions=[];adhesionCourseIds=[];isLoading=!1;selectedCourseId="";selectedAdhesionCourseId="";courses=[];course;fb=new Ae;adhesionForm=this.fb.group({fullName:["",[b.required,b.minLength(3)]],phone:["",[b.required,b.pattern("^\\+?[0-9]{7,15}$")]],email:["",[b.required,b.email]],extraGuests:[0,[b.required,b.min(0),b.max(20),b.pattern("^[0-9]+$")]]});submitted=!1;ngOnInit(){this.isLoading=!0,this.ceremonyId=this.route.snapshot.paramMap.get("ceremonyId"),this.ceremonyId?this.loadCeremony(this.ceremonyId):this.isLoading=!1}loadCeremony(n){this.ceremonyService.get(n).subscribe({next:e=>{this.ceremony=e,this.ceremony&&(this.loadCourses(),this.loadAdhesions(this.ceremony.id))},error:e=>{console.error("Erro ao carregar cerim\xF4nia",e),this.isLoading=!1}})}loadCourses(){this.courseService.list().subscribe({next:n=>{this.courses=this.filterCourses(n,this.ceremony?.courses)},error:n=>{console.log("Erro ao carregar cursos",n)}})}selectCourse(n){this.course=this.courses.find(e=>e.id==n)}onSubmit(n){if(n.valid){let e=document.getElementById("newCourse"),a=window.bootstrap.Modal.getInstance(e);a&&this.ceremony&&this.changebleCourse&&(this.changebleCourse.id&&(this.ceremony.courses=this.ceremony.courses.filter(s=>s.id!=this.changebleCourse.id)),this.ceremony.courses.push(this.course),this.updateCeremony(),a.hide()),n.form.reset(),this.selectedCourseId="",this.changebleCourse=void 0}}updateCeremony(){this.isLoading=!0;let{id:n,categoryId:e,address:a,institutionId:s,date:m,paymentDueDate:S,paymentAmount:se,extraTicketPrice:de}=this.ceremony,me=this.ceremony?.courses.map(ue=>ue.id),ce={categoryId:e,address:a,institutionId:s,date:m,paymentDueDate:S,paymentAmount:se,extraTicketPrice:de,courseIds:me};this.ceremonyService.update(n,ce).subscribe({next:()=>{this.isLoading=!0,this.loadCeremony(n)},error:ue=>{console.log("Erro ao atualizar cerim\xF4nia",ue),this.isLoading=!1}})}filterCourses(n,e){let a=new Set(e.map(s=>s.id));return n.filter(s=>!a.has(s.id))}loadAdhesions(n){this.isLoading=!0,this.adhesionService.listByCeremonyId(n).subscribe({next:e=>{this.adhesions=e,this.filteredAdhesions=this.adhesions,this.adhesionCourseIds=this.adhesions.map(a=>a.course.id),this.isLoading=!1},error:e=>{console.log("Erro ao carregar ades\xF5es",e),this.isLoading=!1}})}changebleCourse;catchChangebleCourse(n){this.changebleCourse=n}deleteCourse(){let n=document.getElementById("deleteCourse"),e=window.bootstrap.Modal.getInstance(n);e&&this.ceremony&&(e.hide(),this.ceremony.courses=this.ceremony.courses.filter(a=>a.id!==this.changebleCourse.id),this.changebleCourse=null,this.updateCeremony())}hideDeleteCourseModal(){this.hideModal("deleteCourse")}hideNewAdhesionModal(){this.hideModal("newAdhesion")}hideModal(n){let e=document.getElementById(n),a=window.bootstrap.Modal.getInstance(e);a&&this.ceremony&&a.hide()}getAdhesionCourses(){return this.ceremony?.courses.filter(n=>this.adhesionCourseIds.includes(n.id))}filterAdhesions(n){n?this.filteredAdhesions=this.adhesions.filter(e=>e.course.Id==n):this.filteredAdhesions=this.adhesions}catchAdhesionCourse(n){this.course=n}onSubmitAdhesion(){let n=document.getElementById("newAdhesion"),e=window.bootstrap.Modal.getInstance(n);if(this.adhesionForm.valid&&this.ceremony&&this.course&&e){let a=this.ceremony.id,s=this.course.id,{email:m,extraGuests:S,fullName:se,phone:de}=this.adhesionForm.value,me={ceremonyId:a,courseId:s,studentFullName:se,studentPhoneNumber:de,studentEmail:m,extraGuests:S};this.adhesionService.create(me).subscribe({next:()=>{this.loadAdhesions(a)},error:ce=>{console.log("Erro ao criar nova ades\xE3o",ce)}}),e.hide()}}static \u0275fac=function(e){return new(e||r)(g(N),g(V),g(te),g(De))};static \u0275cmp=F({type:r,selectors:[["app-ceremony-detail"]],standalone:!1,decls:66,vars:11,consts:[["f","ngForm"],[1,"container"],["id","newCourse","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["novalidate","",3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["name","courseId","required","",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value","disabled","selected"],[3,"value"],["type","submit",1,"btn","btn-primary"],["id","deleteCourse","role","dialog","tabindex","-1","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["id","newAdhesion","role","dialog","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-title","fs-5"],["novalidate","",3,"submit","formGroup"],["type","text","formControlName","fullName","required","",1,"form-control"],[2,"color","crimson"],["type","tel","formControlName","phone","required","",1,"form-control"],["type","email","formControlName","email","required","",1,"form-control"],["type","number","formControlName","extraGuests","required","",1,"form-control"],["type","submit",1,"btn","btn-danger",3,"click"],[1,"text-center"],[1,"courses","container","mt-2"],["type","button","data-bs-toggle","modal","data-bs-target","#newCourse",1,"btn","btn-primary","mb-1"],[1,"row"],[1,"col-6","col-md-4"],[1,"adhesions","container","mt-2"],[1,"table","table-hover"],[1,"table-dark"],["scope","col"],[1,"tr-link",3,"routerLink"],[1,"card","m-1"],[1,"card-title","text-center-1"],[1,"card-body"],[1,"card-text"],["role","group","aria-label","actions",1,"btn-group"],["type","button","data-bs-toggle","modal","data-bs-target","#newAdhesion",1,"btn","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-square"],["d","M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"],["type","button","data-bs-toggle","modal","data-bs-target","#newCourse",1,"btn","btn-success",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteCourse",1,"btn","btn-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eraser"],["d","M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"],["colspan","4"]],template:function(e,a){if(e&1){let s=w();C(0,Ze,44,9,"div",1)(1,Ke,1,0,"app-progress-bar"),t(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1",6),o(7),i(),d(8,"button",7),i(),t(9,"div",8)(10,"form",9,0),y("ngSubmit",function(){h(s);let S=L(11);return v(a.onSubmit(S))}),t(12,"div",10)(13,"label",11),o(14,"Nome"),i(),t(15,"select",12),R("ngModelChange",function(S){return h(s),z(a.selectedCourseId,S)||(a.selectedCourseId=S),v(S)}),y("change",function(){return h(s),v(a.selectCourse(a.selectedCourseId))}),t(16,"option",13),o(17,"Selecione um curso"),i(),_(18,Ye,2,2,"option",14,oe),i()(),t(20,"button",15),o(21,"Salvar"),i()()()()()(),t(22,"div",16)(23,"div",17)(24,"div",4)(25,"div",5)(26,"h5",18),o(27,"Tem certeza que quer deletar?"),i()(),t(28,"div",8),o(29),i(),t(30,"div",19)(31,"button",20),y("click",function(){return h(s),v(a.hideDeleteCourseModal())}),o(32," N\xE3o "),i(),t(33,"button",21),y("click",function(){return h(s),v(a.deleteCourse())}),o(34," Sim "),i()()()()(),t(35,"div",22)(36,"div",17)(37,"div",4)(38,"div",5)(39,"h1",23),o(40),i()(),t(41,"div",8)(42,"form",24),y("submit",function(){return h(s),v(a.onSubmitAdhesion())}),t(43,"div",10)(44,"label",11),o(45,"Nome Completo"),i(),d(46,"input",25),C(47,it,3,2,"div",26),i(),t(48,"div",10)(49,"label",11),o(50,"Telefone"),i(),d(51,"input",27),C(52,ot,2,1,"div",26),i(),t(53,"div",10)(54,"label",11),o(55,"Email"),i(),d(56,"input",28),C(57,lt,3,2,"div",26),i(),t(58,"div",10)(59,"label",11),o(60,"Convidados Extras"),i(),d(61,"input",29),i(),t(62,"button",15),o(63,"Salvar"),i(),t(64,"button",30),y("click",function(){return h(s),v(a.hideNewAdhesionModal())}),o(65,"Cancelar"),i()()()()()()}e&2&&(f(a.isLoading?1:0),l(7),c(a.changebleCourse?`Trocar ${a.changebleCourse.name}`:"Novo Curso"),l(8),k("ngModel",a.selectedCourseId),l(),u("value","")("selected",!a.selectedCourseId),l(2),E(a.courses),l(11),B(" ",a.changebleCourse==null?null:a.changebleCourse.name," "),l(11),B(" Ades\xE3o ",a.course==null?null:a.course.name),l(2),u("formGroup",a.adhesionForm),l(5),f(a.adhesionForm.controls.fullName.invalid&&(a.adhesionForm.controls.fullName.dirty||a.adhesionForm.controls.fullName.touched||a.submitted)?47:-1),l(5),f(a.adhesionForm.controls.phone.invalid&&(a.adhesionForm.controls.phone.dirty||a.adhesionForm.controls.phone.touched||a.submitted)?52:-1),l(5),f(a.adhesionForm.controls.email.invalid&&(a.adhesionForm.controls.email.dirty||a.adhesionForm.controls.email.touched||a.submitted)?57:-1))},dependencies:[M,X,K,Y,Ee,xe,Z,U,W,ee,J,Q,Se,Ie,G,D],encapsulation:2})};var st=(r,n)=>n.id;function dt(r,n){if(r&1&&(t(0,"tr",33)(1,"td"),o(2),i(),t(3,"td"),o(4),i()()),r&2){let e=n.$implicit;l(2),c(e.name),l(2),c(e.status)}}function mt(r,n){r&1&&(t(0,"tr")(1,"td",39),o(2,"N\xE3o h\xE1 arquivos."),i()())}function ct(r,n){if(r&1&&(t(0,"option",38),o(1),i()),r&2){let e=n.$implicit;u("value",e),l(),c(e)}}function ut(r,n){if(r&1){let e=w();t(0,"input",40),y("change",function(s){h(e);let m=p(3);return v(m.onFileChange(s))}),i(),t(1,"button",41),o(2,"Enviar"),i()}}function pt(r,n){if(r&1){let e=w();t(0,"div",2)(1,"h1",3),o(2),i(),t(3,"p",4),o(4," Prezado(a) acad\xEAmico(a),"),d(5,"br"),o(6," Essa cerim\xF4nia ser\xE1 realizada na institui\xE7\xE3o "),t(7,"b"),o(8),i(),o(9," em parceria com "),t(10,"b"),o(11),i(),o(12,". Cuidamos de cada detalhe para que voc\xEA celebre a sua vit\xF3ria em grande estilo, ao lado de quem voc\xEA ama. As solenidades s\xE3o pensadas para tornar o seu dia ainda mais especial, com a presen\xE7a de quem lhe apoia em toda a sua trajet\xF3ria. Este \xE9 o seu grande momento, voc\xEA \xE9 a nossa maior estrela! "),i()(),t(13,"div",2)(14,"form")(15,"div",5)(16,"label",6),o(17,"Curso"),i(),t(18,"div",7),d(19,"input",8),i()(),t(20,"div",5)(21,"label",6),o(22,"Aluno"),i(),t(23,"div",7),d(24,"input",8),i()(),t(25,"div",5)(26,"label",6),o(27,"Telefone"),i(),t(28,"div",7),d(29,"input",9),i()(),t(30,"div",5)(31,"label",6),o(32,"Email"),i(),t(33,"div",7),d(34,"input",10),i()(),t(35,"div",5)(36,"label",6),o(37,"Convidados Extras"),i(),t(38,"div",7),d(39,"input",11),i()(),t(40,"div",5)(41,"label",6),o(42,"Valor do servi\xE7o de cerim\xF4nia"),i(),t(43,"div",7),d(44,"input",8),x(45,"currency"),i()(),t(46,"div",5)(47,"label",6),o(48,"Valor do passe de convidados extras"),i(),t(49,"div",7),d(50,"input",8),x(51,"currency"),i()(),t(52,"div",5)(53,"label",6),o(54,"Vencimento do pagamento de ades\xE3o"),i(),t(55,"div",7),d(56,"input",8),x(57,"date"),i()(),t(58,"div",5)(59,"label",6),o(60,"Data do evento"),i(),t(61,"div",7),d(62,"input",8),x(63,"date"),i()(),t(64,"div",5)(65,"label",6),o(66,"Hor\xE1rio de chegada para quem for fazer fotos"),i(),t(67,"div",7),d(68,"input",12),i()(),t(69,"div",5)(70,"label",6),o(71,"Hor\xE1rio do evento"),i(),t(72,"div",7),d(73,"input",8),x(74,"date"),i()(),t(75,"div",5)(76,"label",6),o(77,"Local"),i(),t(78,"div",7),d(79,"input",8),i()()(),t(80,"div",13)(81,"h4",14),o(82,"Aten\xE7\xE3o!"),i(),t(83,"p",4),o(84," Realize o pagamento da ades\xE3o da cerim\xF4nia e convidados extras atrav\xE9s da chave PIX abaixo e em seguida anexe o comprovante de pagamento com a op\xE7\xE3o de enviar documentos. "),i(),t(85,"h4",14),o(86,"Mais informa\xE7\xF5es:"),i(),t(87,"ul")(88,"li"),o(89,"Cada acad\xEAmico tem o direito de levar 2 convidados, um dos dois ser\xE1 o padrinho/madrinha."),i(),t(90,"li"),o(91,"\xC9 necess\xE1rio chegar com 2hs de anteced\xEAncia."),i(),t(92,"li"),o(93,"Crian\xE7a at\xE9 5 anos n\xE3o paga."),i()(),t(94,"p",4)(95,"b"),o(96," O VALOR REFERENTE AO PAGAMENTO DA TAXA DE INSCRI\xC7\xC3O OU DO PACOTE DE FOTOS N\xC3O SER\xC1 DEVOLVIDO EM HIP\xD3TESE ALGUMA, SALVO EM CASO DE CANCELAMENTO DO EVENTO."),d(97,"br"),o(98," N\xC3O FAZEMOS REEMBOLSO!"),d(99,"br"),o(100," Quaisquer d\xFAvidas, entrar em contato com a nossa assessoria de cerimonial"),d(101,"br"),o(102," \xC0 disposi\xE7\xE3o, "),i()(),d(103,"hr"),t(104,"div",15)(105,"div",16),A(),t(106,"svg",17),d(107,"path",18)(108,"path",19)(109,"path",20)(110,"path",21)(111,"path",22),i()(),T(),t(112,"div",23)(113,"div",24),d(114,"input",25,0),t(116,"div",26)(117,"button",27),y("click",function(){h(e);let s=L(115),m=p(2);return v(m.copyQrcode(s.value))}),A(),t(118,"svg",28),d(119,"path",29),i()()()()()()(),T(),t(120,"h1"),o(121,"Arquivos"),i(),t(122,"table",30)(123,"thead",31)(124,"tr")(125,"th",32),o(126,"Nome"),i(),t(127,"th",32),o(128,"Status"),i()()(),t(129,"tbody"),_(130,dt,5,2,"tr",33,st,!1,mt,3,0,"tr"),i()(),t(133,"h3"),o(134,"Enviar Arquivo"),i(),t(135,"div",34)(136,"form",35,1),y("submit",function(){h(e);let s=L(137),m=p(2);return v(m.submitFileForm(s))}),t(138,"select",36),R("ngModelChange",function(s){h(e);let m=p(2);return z(m.selectedFileType,s)||(m.selectedFileType=s),v(s)}),t(139,"option",37),o(140,"Selecione o tipo de arquivo"),i(),_(141,ct,2,2,"option",38,ve),i(),C(143,ut,3,0),i()()()}if(r&2){let e=p(2);l(2),c(e.adhesion.ceremony.categoryName),l(6),c(e.adhesion.ceremony.institutionName),l(3),c(e.organizationName),l(8),u("value",e.adhesion.course.name),l(5),u("value",e.adhesion.studentFullName),l(5),u("value",e.adhesion.studentPhoneNumber),l(5),u("value",e.adhesion.studentEmail),l(5),u("value",e.adhesion.extraGuests),l(5),u("value",I(45,19,e.adhesion.ceremony.paymentAmount)),l(6),u("value",I(51,21,e.adhesion.ceremony.extraTicketPrice)),l(6),u("value",I(57,23,e.adhesion.ceremony.paymentDueDate)),l(6),u("value",fe(63,25,e.adhesion.ceremony.date,"dd/MM/yyyy")),l(11),u("value",ye(74,28,e.adhesion.ceremony.date,"HH:mm","UTC")),l(6),u("value",e.adhesion.ceremony.address),l(51),E(e.adhesion.files),l(8),k("ngModel",e.selectedFileType),l(),u("value",null)("selected",!e.selectedFileType),l(2),E(e.fileTypes),l(2),f(e.selectedFileType?143:-1)}}function ht(r,n){if(r&1&&C(0,pt,144,32),r&2){let e=p();f(e.adhesion?0:-1)}}function vt(r,n){r&1&&d(0,"app-progress-bar")}var ae=class r{constructor(n,e,a){this.activatedRoute=n;this.router=e;this.adhesionService=a}organizationName="Rochelle Rold\xE3o Cerimonial e Protocolo";adhesionId=null;adhesion=null;isLoading=!1;selectedFile;selectedFileType=null;fileTypes=["Contrato assinado","Pagamento da cerim\xF4nia","Pagamento de convidados extras"];ngOnInit(){this.isLoading=!0,this.adhesionId=this.activatedRoute.snapshot.paramMap.get("adhesionId"),this.adhesionId?this.loadAdhesion(this.adhesionId):this.router.navigate(["/"])}loadAdhesion(n){this.adhesionService.get(n).subscribe({next:e=>{this.adhesion=e,this.isLoading=!1},error:e=>{console.log(e),this.isLoading=!1}})}copyQrcode(n){navigator?.clipboard?navigator.clipboard.writeText(n).then(()=>{alert("Texto copiado com sucesso!")}).catch(e=>{console.error("Erro ao copiar:",e),alert("Falha ao copiar para a \xE1rea de transfer\xEAncia.")}):alert("Clipboard API n\xE3o suportada neste navegador.")}onFileChange(n){let e=n.target;e.files&&e.files.length>0&&(this.selectedFile=e.files[0])}submitFileForm(n){if(this.adhesion&&this.selectedFileType&&this.selectedFile&&n.valid){let{fileName:e}=n.value;new FormData().append("file",this.selectedFile),this.uploadFile(this.adhesion.id,e,this.selectedFile),n.resetForm()}}uploadFile(n,e,a){this.adhesionService.uploadFile(n,e,a).subscribe({next:()=>{this.loadAdhesion(this.adhesionId)},error:s=>{console.error("Erro ao subir arquivo",s)}})}static \u0275fac=function(e){return new(e||r)(g(N),g($),g(te))};static \u0275cmp=F({type:r,selectors:[["app-ceremony-adhesion"]],standalone:!1,decls:2,vars:1,consts:[["qrcode",""],["f","ngForm"],[1,"container"],[1,"mt-3"],[1,"justified-paragraph"],[1,"form-group","row"],[1,"col-sm-2","col-form-label","fw-bold"],[1,"col-sm-10"],["type","text","readonly","",1,"form-control-plaintext",3,"value"],["type","tel","readonly","",1,"form-control-plaintext",3,"value"],["type","email","readonly","",1,"form-control-plaintext",3,"value"],["type","number","readonly","",1,"form-control-plaintext",3,"value"],["type","text","readonly","","value","2 horas de anteced\xEAncia",1,"form-control-plaintext"],["role","alert",1,"alert","alert-success","mt-3"],[1,"alert-heading"],[1,"container","text-center"],[1,"qrcode","mb-3"],["xmlns","http://www.w3.org/2000/svg","width","100","height","100","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-qr-code"],["d","M2 2h2v2H2z"],["d","M6 0v6H0V0zM5 1H1v4h4zM4 12H2v2h2z"],["d","M6 10v6H0v-6zm-5 1v4h4v-4zm11-9h2v2h-2z"],["d","M10 0v6h6V0zm5 1v4h-4V1zM8 1V0h1v2H8v2H7V1zm0 5V4h1v2zM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8zm0 0v1H2V8H1v1H0V7h3v1zm10 1h-1V7h1zm-1 0h-1v2h2v-1h-1zm-4 0h2v1h-1v1h-1zm2 3v-1h-1v1h-1v1H9v1h3v-2zm0 0h3v1h-2v1h-1zm-4-1v1h1v-2H7v1z"],["d","M7 12h1v3h4v1H7zm9 2v2h-3v-1h2v-1z"],[1,"keycode"],[1,"input-group","mb-3"],["type","text","value","123e4567-e89b-12d3-a456-426614174000","readonly","",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-copy"],["fill-rule","evenodd","d","M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"],[1,"table","table-hover"],[1,"table-dark"],["scope","col"],[2,"cursor","pointer"],[1,"input-group"],["novalidate","",3,"submit"],["name","fileName","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value","disabled","selected"],[3,"value"],["colspan","4"],["type","file","aria-label","upload","name","formFile",1,"form-control",3,"change"],["type","submit",1,"btn","btn-secondary"]],template:function(e,a){e&1&&C(0,ht,1,1)(1,vt,1,0,"app-progress-bar"),e&2&&f(a.isLoading?1:0)},dependencies:[M,X,K,Y,Z,U,W,ee,J,Q,ge,D],encapsulation:2})};var Ct=[{path:"cerimonias",redirectTo:"cerimonias/lista",pathMatch:"full"},{path:"cerimonias/lista",component:ne},{path:"cerimonias/detalhes/:ceremonyId",component:re},{path:"cerimonias/adesao/:adhesionId",component:ae}],le=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=q({type:r});static \u0275inj=P({imports:[pe.forChild(Ct),pe]})};var Re=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=q({type:r});static \u0275inj=P({imports:[Me,we,Te,Fe,Ne,le]})};export{ie as a,Re as b};
